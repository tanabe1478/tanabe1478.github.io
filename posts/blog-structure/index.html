<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="tanabe1478's Page"/><link rel="canonical" href="https://tanabe1478.github.io/posts/blog-structure"/><meta name="twitter:url" content="https://tanabe1478.github.io/posts/blog-structure"/><meta name="og:url" content="https://tanabe1478.github.io/posts/blog-structure"/><title>このブログがどうやって出来ているか | tanabe1478's Page</title><meta name="twitter:title" content="このブログがどうやって出来ているか | tanabe1478's Page"/><meta name="og:title" content="このブログがどうやって出来ているか | tanabe1478's Page"/><meta name="description" content="このブログの構成について"/><meta name="twitter:description" content="このブログの構成について"/><meta name="og:description" content="このブログの構成について"/><meta name="twitter:card" content="summary_large_image"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to tanabe1478's Page"/><meta name="twitter:image" content="https://tanabe1478.github.io/images/publish.png"/><meta name="og:image" content="https://tanabe1478.github.io/images/publish.png"/></head><body class="item-page"><header><div class="wrapper"><a class="site-name" href="/">tanabe1478's Page</a></div></header><div class="wrapper"><article><div class="content"><h1>このブログがどうやって出来ているか</h1><h2>静的なファイルの生成 Publish</h2><p>静的なファイルの生成にはSwift製の静的サイトジェネレータ <a href="https://github.com/JohnSundell/Publish">JohnSundell/Publish</a>を使っている。</p><p>postsディレクトリ以下に決まったフォーマットで書いたmarkdownファイルを置いた後、<code>publish deploy</code>コマンドでGitHub Pagesにデプロイされる。XCodeでSchemeを新規作成してArguments Passed On Launchに<code>--deploy</code>を追加するとRun時にデプロイできるSchemeが作れる。</p><pre data-language="sh" class="hljs"><code>Publishing t__nabe1478<span class="hljs-string">'s Blog (1 steps)
[1/1] Deploy using Git (git@github.com:tanabe1478/tanabe1478.github.io.git)
✅ Successfully published t__nabe1478'</span>s Blog
</code></pre><h3>GitHub Pagesでホスティング</h3><p>静的なファイルのホスティング先は色々検討したがデフォルトでサポートされているGitHub Pagesを利用することにした。</p><pre data-language="swift" class="hljs"><code><span class="hljs-keyword">try</span> <span class="hljs-type">Blog</span>().publish(using: [
    .installPlugin(.highlightJS()),
    .addMarkdownFiles(),
    .generateHTML(withTheme: .myTheme),
    .<span class="hljs-keyword">optional</span>(.copyResources()),
    .sortItems(by: \.date, order: .descending),
    .generateRSSFeed(including: [.posts]),
    .generateSiteMap(),
    .deploy(using: .gitHub(<span class="hljs-string">"tanabe1478/tanabe1478.github.io"</span>, useSSH: <span class="hljs-literal">true</span>)), <span class="hljs-comment">// パイプラインにGitHub Pagesへのデプロイを追加</span>
])
</code></pre><h3>使った感触</h3><p>出来て日が浅いOSSなのでドキュメントが足りない所もあるし、日本で使ってる人がいないのか日本語の情報は全くない。それでもドキュメントの英語は平易で、コードも読みやすいのでコードを追いながらデフォルトのテーマから自分用のテーマを作るのは難しくなかったが、publishしている部分のパイプラインやプラグインの作り方など知っておいた方が良いことがまだある。</p><p>それでもWebに公開するコンテンツを作るのにSwiftの世界でほぼ完結出来るのは最高だった。iOSアプリ以外でもSwiftをもっと使いたくなってしまった。</p><h2>今後やりたいこと</h2><ul><li>独自ドメインにする</li><li>プラグインを作ってみたい</li><li>CSSを整えたい</li><li>シンタックスハイライト用のCSSの見直し</li></ul><h2>Developers.IOに書いた</h2><ul><li><a href="https://dev.classmethod.jp/articles/generate-static-site-in_swift/">Swiftでブログを作ってGitHub Pagesにデプロイしてみる | Developers.IO</a></li></ul></div><span>Tagged with: </span><ul class="tag-list"><li><a href="/tags/技術">技術</a></li></ul></article></div><footer><p>Generated using <a href="https://github.com/johnsundell/publish">Publish</a></p></footer></body></html>